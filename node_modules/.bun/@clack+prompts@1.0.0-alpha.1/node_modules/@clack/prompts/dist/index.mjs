import{AutocompletePrompt as ee,ConfirmPrompt as we,GroupMultiSelectPrompt as Se,isCancel as be,MultiSelectPrompt as Ie,PasswordPrompt as Ce,block as _e,settings as te,SelectKeyPrompt as Ee,SelectPrompt as Te,getColumns as Me,TextPrompt as Oe}from"@clack/core";export{isCancel,settings,updateSettings}from"@clack/core";import*as W from"picocolors";import e from"picocolors";import C from"node:process";import{WriteStream as xe}from"node:tty";import{stripVTControlCharacters as V}from"node:util";import{existsSync as Re,lstatSync as se,readdirSync as Ae}from"node:fs";import{dirname as re,join as Ve}from"node:path";import{cursor as je,erase as ie}from"sisteransi";function Pe(){return C.platform!=="win32"?C.env.TERM!=="linux":!!C.env.CI||!!C.env.WT_SESSION||!!C.env.TERMINUS_SUBLIME||C.env.ConEmuTask==="{cmd::Cmder}"||C.env.TERM_PROGRAM==="Terminus-Sublime"||C.env.TERM_PROGRAM==="vscode"||C.env.TERM==="xterm-256color"||C.env.TERM==="alacritty"||C.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}const N=Pe(),D=()=>process.env.CI==="true",v=(t,i)=>N?t:i,ne=v("\u25C6","*"),G=v("\u25A0","x"),F=v("\u25B2","x"),O=v("\u25C7","o"),oe=v("\u250C","T"),o=v("\u2502","|"),f=v("\u2514","\u2014"),P=v("\u25CF",">"),L=v("\u25CB"," "),k=v("\u25FB","[\u2022]"),x=v("\u25FC","[+]"),B=v("\u25FB","[ ]"),ae=v("\u25AA","\u2022"),U=v("\u2500","-"),ue=v("\u256E","+"),ce=v("\u251C","+"),le=v("\u256F","+"),H=v("\u25CF","\u2022"),K=v("\u25C6","*"),q=v("\u25B2","!"),X=v("\u25A0","x"),E=t=>{switch(t){case"initial":case"active":return e.cyan(ne);case"cancel":return e.red(G);case"error":return e.yellow(F);case"submit":return e.green(O)}},j=t=>{const{cursor:i,options:r,style:s}=t,n=t.output??process.stdout,a=n instanceof xe&&n.rows!==void 0?n.rows:10,l=e.dim("..."),c=t.maxItems??Number.POSITIVE_INFINITY,u=Math.max(a-4,0),$=Math.min(u,Math.max(c,5));let m=0;i>=m+$-3?m=Math.max(Math.min(i-$+3,r.length-$),0):i<m+2&&(m=Math.max(i-2,0));const h=$<r.length&&m>0,g=$<r.length&&m+$<r.length;return r.slice(m,m+$).map((p,d,y)=>{const w=d===0&&h,b=d===y.length-1&&g;return w||b?l:s(p,d+m===i)})};function $e(t){return t.label??String(t.value??"")}function pe(t,i){if(!t)return!0;const r=(i.label??String(i.value??"")).toLowerCase(),s=(i.hint??"").toLowerCase(),n=String(i.value).toLowerCase(),a=t.toLowerCase();return r.includes(a)||s.includes(a)||n.includes(a)}function Le(t,i){const r=[];for(const s of i)t.includes(s.value)&&r.push(s);return r}const me=t=>new ee({options:t.options,initialValue:t.initialValue?[t.initialValue]:void 0,initialUserInput:t.initialUserInput,filter:(i,r)=>pe(i,r),signal:t.signal,input:t.input,output:t.output,validate:t.validate,render(){const i=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,r=this.userInput,s=String(this.value??""),n=this.options,a=t.placeholder,l=s===""&&a!==void 0;switch(this.state){case"submit":{const c=Le(this.selectedValues,n),u=c.length>0?c.map($e).join(", "):"";return`${i}${e.gray(o)}  ${e.dim(u)}`}case"cancel":return`${i}${e.gray(o)}  ${e.strikethrough(e.dim(r))}`;default:{const c=this.isNavigating||l?e.dim(l?a:r):this.userInputWithCursor,u=this.filteredOptions.length!==n.length?e.dim(` (${this.filteredOptions.length} match${this.filteredOptions.length===1?"":"es"})`):"",$=this.filteredOptions.length===0?[]:j({cursor:this.cursor,options:this.filteredOptions,style:(p,d)=>{const y=$e(p),w=p.hint&&p.value===this.focusedValue?e.dim(` (${p.hint})`):"";return d?`${e.green(P)} ${y}${w}`:`${e.dim(L)} ${e.dim(y)}${w}`},maxItems:t.maxItems,output:t.output}),m=[`${e.dim("\u2191/\u2193")} to select`,`${e.dim("Enter:")} confirm`,`${e.dim("Type:")} to search`],h=this.filteredOptions.length===0&&r?[`${e.cyan(o)}  ${e.yellow("No matches found")}`]:[],g=this.state==="error"?[`${e.yellow(o)}  ${e.yellow(this.error)}`]:[];return[i,`${e.cyan(o)}  ${e.dim("Search:")} ${c}${u}`,...h,...g,...$.map(p=>`${e.cyan(o)}  ${p}`),`${e.cyan(o)}  ${e.dim(m.join(" \u2022 "))}`,`${e.cyan(f)}`].join(`
`)}}}}).prompt(),Ne=t=>{const i=(s,n,a,l)=>{const c=a.includes(s.value),u=s.label??String(s.value??""),$=s.hint&&l!==void 0&&s.value===l?e.dim(` (${s.hint})`):"",m=c?e.green(x):e.dim(B);return n?`${m} ${u}${$}`:`${m} ${e.dim(u)}`},r=new ee({options:t.options,multiple:!0,filter:(s,n)=>pe(s,n),validate:()=>{if(t.required&&r.selectedValues.length===0)return"Please select at least one item"},initialValue:t.initialValues,signal:t.signal,input:t.input,output:t.output,render(){const s=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,n=this.userInput,a=t.placeholder,l=n===""&&a!==void 0,c=this.isNavigating||l?e.dim(l?a:n):this.userInputWithCursor,u=this.options,$=this.filteredOptions.length!==u.length?e.dim(` (${this.filteredOptions.length} match${this.filteredOptions.length===1?"":"es"})`):"";switch(this.state){case"submit":return`${s}${e.gray(o)}  ${e.dim(`${this.selectedValues.length} items selected`)}`;case"cancel":return`${s}${e.gray(o)}  ${e.strikethrough(e.dim(n))}`;default:{const m=[`${e.dim("\u2191/\u2193")} to navigate`,`${e.dim("Space:")} select`,`${e.dim("Enter:")} confirm`,`${e.dim("Type:")} to search`],h=this.filteredOptions.length===0&&n?[`${e.cyan(o)}  ${e.yellow("No matches found")}`]:[],g=this.state==="error"?[`${e.cyan(o)}  ${e.yellow(this.error)}`]:[],p=j({cursor:this.cursor,options:this.filteredOptions,style:(d,y)=>i(d,y,this.selectedValues,this.focusedValue),maxItems:t.maxItems,output:t.output});return[s,`${e.cyan(o)}  ${e.dim("Search:")} ${c}${$}`,...h,...g,...p.map(d=>`${e.cyan(o)}  ${d}`),`${e.cyan(o)}  ${e.dim(m.join(" \u2022 "))}`,`${e.cyan(f)}`].join(`
`)}}}});return r.prompt()},ke=t=>{const i=t.active??"Yes",r=t.inactive??"No";return new we({active:i,inactive:r,signal:t.signal,input:t.input,output:t.output,initialValue:t.initialValue??!0,render(){const s=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,n=this.value?i:r;switch(this.state){case"submit":return`${s}${e.gray(o)}  ${e.dim(n)}`;case"cancel":return`${s}${e.gray(o)}  ${e.strikethrough(e.dim(n))}
${e.gray(o)}`;default:return`${s}${e.cyan(o)}  ${this.value?`${e.green(P)} ${i}`:`${e.dim(L)} ${e.dim(i)}`} ${e.dim("/")} ${this.value?`${e.dim(L)} ${e.dim(r)}`:`${e.green(P)} ${r}`}
${e.cyan(f)}
`}}}).prompt()},Be=t=>{const{selectableGroups:i=!0,groupSpacing:r=0}=t,s=(a,l,c=[])=>{const u=a.label??String(a.value),$=typeof a.group=="string",m=$&&(c[c.indexOf(a)+1]??{group:!0}),h=$&&m.group===!0,g=$?i?`${h?f:o} `:"  ":"",p=r>0&&!$?`
${e.cyan(o)}  `.repeat(r):"";if(l==="active")return`${p}${e.dim(g)}${e.cyan(k)} ${u} ${a.hint?e.dim(`(${a.hint})`):""}`;if(l==="group-active")return`${p}${g}${e.cyan(k)} ${e.dim(u)}`;if(l==="group-active-selected")return`${p}${g}${e.green(x)} ${e.dim(u)}`;if(l==="selected"){const y=$||i?e.green(x):"";return`${p}${e.dim(g)}${y} ${e.dim(u)} ${a.hint?e.dim(`(${a.hint})`):""}`}if(l==="cancelled")return`${e.strikethrough(e.dim(u))}`;if(l==="active-selected")return`${p}${e.dim(g)}${e.green(x)} ${u} ${a.hint?e.dim(`(${a.hint})`):""}`;if(l==="submitted")return`${e.dim(u)}`;const d=$||i?e.dim(B):"";return`${p}${e.dim(g)}${d} ${e.dim(u)}`},n=t.required??!0;return new Se({options:t.options,signal:t.signal,input:t.input,output:t.output,initialValues:t.initialValues,required:n,cursorAt:t.cursorAt,selectableGroups:i,validate(a){if(n&&(a===void 0||a.length===0))return`Please select at least one option.
${e.reset(e.dim(`Press ${e.gray(e.bgWhite(e.inverse(" space ")))} to select, ${e.gray(e.bgWhite(e.inverse(" enter ")))} to submit`))}`},render(){const a=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,l=this.value??[];switch(this.state){case"submit":return`${a}${e.gray(o)}  ${this.options.filter(({value:c})=>l.includes(c)).map(c=>s(c,"submitted")).join(e.dim(", "))}`;case"cancel":{const c=this.options.filter(({value:u})=>l.includes(u)).map(u=>s(u,"cancelled")).join(e.dim(", "));return`${a}${e.gray(o)}  ${c.trim()?`${c}
${e.gray(o)}`:""}`}case"error":{const c=this.error.split(`
`).map((u,$)=>$===0?`${e.yellow(f)}  ${e.yellow(u)}`:`   ${u}`).join(`
`);return`${a}${e.yellow(o)}  ${this.options.map((u,$,m)=>{const h=l.includes(u.value)||u.group===!0&&this.isGroupSelected(`${u.value}`),g=$===this.cursor;return!g&&typeof u.group=="string"&&this.options[this.cursor].value===u.group?s(u,h?"group-active-selected":"group-active",m):g&&h?s(u,"active-selected",m):h?s(u,"selected",m):s(u,g?"active":"inactive",m)}).join(`
${e.yellow(o)}  `)}
${c}
`}default:return`${a}${e.cyan(o)}  ${this.options.map((c,u,$)=>{const m=l.includes(c.value)||c.group===!0&&this.isGroupSelected(`${c.value}`),h=u===this.cursor;return!h&&typeof c.group=="string"&&this.options[this.cursor].value===c.group?s(c,m?"group-active-selected":"group-active",$):h&&m?s(c,"active-selected",$):m?s(c,"selected",$):s(c,h?"active":"inactive",$)}).join(`
${e.cyan(o)}  `)}
${e.cyan(f)}
`}}}).prompt()},We=async(t,i)=>{const r={},s=Object.keys(t);for(const n of s){const a=t[n],l=await a({results:r})?.catch(c=>{throw c});if(typeof i?.onCancel=="function"&&be(l)){r[n]="canceled",i.onCancel({results:r});continue}r[n]=l}return r},T={message:(t=[],{symbol:i=e.gray(o),secondarySymbol:r=e.gray(o),output:s=process.stdout,spacing:n=1}={})=>{const a=[];for(let c=0;c<n;c++)a.push(`${r}`);const l=Array.isArray(t)?t:t.split(`
`);if(l.length>0){const[c,...u]=l;c.length>0?a.push(`${i}  ${c}`):a.push(i);for(const $ of u)$.length>0?a.push(`${r}  ${$}`):a.push(r)}s.write(`${a.join(`
`)}
`)},info:(t,i)=>{T.message(t,{...i,symbol:e.blue(H)})},success:(t,i)=>{T.message(t,{...i,symbol:e.green(K)})},step:(t,i)=>{T.message(t,{...i,symbol:e.green(O)})},warn:(t,i)=>{T.message(t,{...i,symbol:e.yellow(q)})},warning:(t,i)=>{T.warn(t,i)},error:(t,i)=>{T.message(t,{...i,symbol:e.red(X)})}},De=(t="",i)=>{(i?.output??process.stdout).write(`${e.gray(f)}  ${e.red(t)}

`)},Ge=(t="",i)=>{(i?.output??process.stdout).write(`${e.gray(oe)}  ${t}
`)},Fe=(t="",i)=>{(i?.output??process.stdout).write(`${e.gray(o)}
${e.gray(f)}  ${t}

`)},Ue=t=>{const i=(s,n)=>{const a=s.label??String(s.value);return n==="active"?`${e.cyan(k)} ${a} ${s.hint?e.dim(`(${s.hint})`):""}`:n==="selected"?`${e.green(x)} ${e.dim(a)} ${s.hint?e.dim(`(${s.hint})`):""}`:n==="cancelled"?`${e.strikethrough(e.dim(a))}`:n==="active-selected"?`${e.green(x)} ${a} ${s.hint?e.dim(`(${s.hint})`):""}`:n==="submitted"?`${e.dim(a)}`:`${e.dim(B)} ${e.dim(a)}`},r=t.required??!0;return new Ie({options:t.options,signal:t.signal,input:t.input,output:t.output,initialValues:t.initialValues,required:r,cursorAt:t.cursorAt,validate(s){if(r&&(s===void 0||s.length===0))return`Please select at least one option.
${e.reset(e.dim(`Press ${e.gray(e.bgWhite(e.inverse(" space ")))} to select, ${e.gray(e.bgWhite(e.inverse(" enter ")))} to submit`))}`},render(){const s=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,n=this.value??[],a=(l,c)=>{const u=n.includes(l.value);return c&&u?i(l,"active-selected"):u?i(l,"selected"):i(l,c?"active":"inactive")};switch(this.state){case"submit":return`${s}${e.gray(o)}  ${this.options.filter(({value:l})=>n.includes(l)).map(l=>i(l,"submitted")).join(e.dim(", "))||e.dim("none")}`;case"cancel":{const l=this.options.filter(({value:c})=>n.includes(c)).map(c=>i(c,"cancelled")).join(e.dim(", "));return`${s}${e.gray(o)}  ${l.trim()?`${l}
${e.gray(o)}`:""}`}case"error":{const l=this.error.split(`
`).map((c,u)=>u===0?`${e.yellow(f)}  ${e.yellow(c)}`:`   ${c}`).join(`
`);return`${s+e.yellow(o)}  ${j({output:t.output,options:this.options,cursor:this.cursor,maxItems:t.maxItems,style:a}).join(`
${e.yellow(o)}  `)}
${l}
`}default:return`${s}${e.cyan(o)}  ${j({output:t.output,options:this.options,cursor:this.cursor,maxItems:t.maxItems,style:a}).join(`
${e.cyan(o)}  `)}
${e.cyan(f)}
`}}}).prompt()},He=t=>e.dim(t),Ke=(t="",i="",r)=>{const s=r?.format??He,n=["",...t.split(`
`).map(s),""],a=V(i).length,l=r?.output??process.stdout,c=Math.max(n.reduce(($,m)=>{const h=V(m);return h.length>$?h.length:$},0),a)+2,u=n.map($=>`${e.gray(o)}  ${$}${" ".repeat(c-V($).length)}${e.gray(o)}`).join(`
`);l.write(`${e.gray(o)}
${e.green(O)}  ${e.reset(i)} ${e.gray(U.repeat(Math.max(c-a-1,1))+ue)}
${u}
${e.gray(ce+U.repeat(c+2)+le)}
`)},qe=t=>new Ce({validate:t.validate,mask:t.mask??ae,signal:t.signal,input:t.input,output:t.output,render(){const i=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,r=this.userInputWithCursor,s=this.masked;switch(this.state){case"error":return`${i.trim()}
${e.yellow(o)}  ${s}
${e.yellow(f)}  ${e.yellow(this.error)}
`;case"submit":return`${i}${e.gray(o)}  ${e.dim(s)}`;case"cancel":return`${i}${e.gray(o)}  ${e.strikethrough(e.dim(s))}${s?`
${e.gray(o)}`:""}`;default:return`${i}${e.cyan(o)}  ${r}
${e.cyan(f)}
`}}}).prompt(),Xe=t=>{const i=t.validate;return me({...t,initialUserInput:t.initialValue??t.root??process.cwd(),maxItems:5,validate(r){if(!Array.isArray(r)){if(!r)return"Please select a path";if(i)return i(r)}},options(){const r=this.userInput;if(r==="")return[];try{let s;return Re(r)?se(r).isDirectory()?s=r:s=re(r):s=re(r),Ae(s).map(n=>{const a=Ve(s,n),l=se(a);return{name:n,path:a,isDirectory:l.isDirectory()}}).filter(({path:n,isDirectory:a})=>n.startsWith(r)&&(t.directory||!a)).map(n=>({value:n.path}))}catch{return[]}}})},J=({indicator:t="dots",onCancel:i,output:r=process.stdout,cancelMessage:s,errorMessage:n,frames:a=N?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],delay:l=N?80:120,signal:c}={})=>{const u=D();let $,m,h=!1,g=!1,p="",d,y=performance.now();const w=S=>{const I=S>1?n??te.messages.error:s??te.messages.cancel;g=S===1,h&&(Z(I,S),g&&typeof i=="function"&&i())},b=()=>w(2),M=()=>w(1),ge=()=>{process.on("uncaughtExceptionMonitor",b),process.on("unhandledRejection",b),process.on("SIGINT",M),process.on("SIGTERM",M),process.on("exit",w),c&&c.addEventListener("abort",M)},ye=()=>{process.removeListener("uncaughtExceptionMonitor",b),process.removeListener("unhandledRejection",b),process.removeListener("SIGINT",M),process.removeListener("SIGTERM",M),process.removeListener("exit",w),c&&c.removeEventListener("abort",M)},Y=()=>{if(d===void 0)return;u&&r.write(`
`);const S=d.split(`
`);r.write(je.move(-999,S.length-1)),r.write(ie.down(S.length))},z=S=>S.replace(/\.+$/,""),Q=S=>{const I=(performance.now()-S)/1e3,_=Math.floor(I/60),A=Math.floor(I%60);return _>0?`[${_}m ${A}s]`:`[${A}s]`},ve=(S="")=>{h=!0,$=_e({output:r}),p=z(S),y=performance.now(),r.write(`${e.gray(o)}
`);let I=0,_=0;ge(),m=setInterval(()=>{if(u&&p===d)return;Y(),d=p;const A=e.magenta(a[I]);if(u)r.write(`${A}  ${p}...`);else if(t==="timer")r.write(`${A}  ${p} ${Q(y)}`);else{const fe=".".repeat(Math.floor(_)).slice(0,3);r.write(`${A}  ${p}${fe}`)}I=I+1<a.length?I+1:0,_=_<4?_+.125:0},l)},Z=(S="",I=0)=>{h=!1,clearInterval(m),Y();const _=I===0?e.green(O):I===1?e.red(G):e.red(F);p=S??p,t==="timer"?r.write(`${_}  ${p} ${Q(y)}
`):r.write(`${_}  ${p}
`),ye(),$()};return{start:ve,stop:Z,message:(S="")=>{p=z(S??p)},get isCancelled(){return g}}},de={light:v("\u2500","-"),heavy:v("\u2501","="),block:v("\u2588","#")};function Je({style:t="heavy",max:i=100,size:r=40,...s}={}){const n=J(s);let a=0,l="";const c=Math.max(1,i),u=Math.max(1,r),$=p=>{switch(p){case"initial":case"active":return e.magenta;case"error":case"cancel":return e.red;case"submit":return e.green;default:return e.magenta}},m=(p,d)=>{const y=Math.floor(a/c*u);return`${$(p)(de[t].repeat(y))}${e.dim(de[t].repeat(u-y))} ${d}`},h=(p="")=>(l=p,n.start(m("initial",p))),g=(p=1,d)=>{a=Math.min(c,p+a),n.message(m("active",d??l)),l=d??l};return{start:h,stop:n.stop,advance:g,isCancelled:n.isCancelled,message:p=>g(0,p)}}const Ye=t=>{const i=(r,s="inactive")=>{const n=r.label??String(r.value);return s==="selected"?`${e.dim(n)}`:s==="cancelled"?`${e.strikethrough(e.dim(n))}`:s==="active"?`${e.bgCyan(e.gray(` ${r.value} `))} ${n} ${r.hint?e.dim(`(${r.hint})`):""}`:`${e.gray(e.bgWhite(e.inverse(` ${r.value} `)))} ${n} ${r.hint?e.dim(`(${r.hint})`):""}`};return new Ee({options:t.options,signal:t.signal,input:t.input,output:t.output,initialValue:t.initialValue,render(){const r=`${e.gray(o)}
${E(this.state)}  ${t.message}
`;switch(this.state){case"submit":return`${r}${e.gray(o)}  ${i(this.options.find(s=>s.value===this.value)??t.options[0],"selected")}`;case"cancel":return`${r}${e.gray(o)}  ${i(this.options[0],"cancelled")}
${e.gray(o)}`;default:return`${r}${e.cyan(o)}  ${this.options.map((s,n)=>i(s,n===this.cursor?"active":"inactive")).join(`
${e.cyan(o)}  `)}
${e.cyan(f)}
`}}}).prompt()},ze=t=>{const i=(r,s)=>{const n=r.label??String(r.value);switch(s){case"selected":return`${e.dim(n)}`;case"active":return`${e.green(P)} ${n} ${r.hint?e.dim(`(${r.hint})`):""}`;case"cancelled":return`${e.strikethrough(e.dim(n))}`;default:return`${e.dim(L)} ${e.dim(n)}`}};return new Te({options:t.options,signal:t.signal,input:t.input,output:t.output,initialValue:t.initialValue,render(){const r=`${e.gray(o)}
${E(this.state)}  ${t.message}
`;switch(this.state){case"submit":return`${r}${e.gray(o)}  ${i(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${e.gray(o)}  ${i(this.options[this.cursor],"cancelled")}
${e.gray(o)}`;default:return`${r}${e.cyan(o)}  ${j({output:t.output,cursor:this.cursor,options:this.options,maxItems:t.maxItems,style:(s,n)=>i(s,n?"active":"inactive")}).join(`
${e.cyan(o)}  `)}
${e.cyan(f)}
`}}}).prompt()},he=`${e.gray(o)}  `,R={message:async(t,{symbol:i=e.gray(o)}={})=>{process.stdout.write(`${e.gray(o)}
${i}  `);let r=3;for await(let s of t){s=s.replace(/\n/g,`
${he}`),s.includes(`
`)&&(r=3+V(s.slice(s.lastIndexOf(`
`))).length);const n=V(s).length;r+n<process.stdout.columns?(r+=n,process.stdout.write(s)):(process.stdout.write(`
${he}${s.trimStart()}`),r=3+V(s.trimStart()).length)}process.stdout.write(`
`)},info:t=>R.message(t,{symbol:e.blue(H)}),success:t=>R.message(t,{symbol:e.green(K)}),step:t=>R.message(t,{symbol:e.green(O)}),warn:t=>R.message(t,{symbol:e.yellow(q)}),warning:t=>R.warn(t),error:t=>R.message(t,{symbol:e.red(X)})},Qe=async(t,i)=>{for(const r of t){if(r.enabled===!1)continue;const s=J(i);s.start(r.title);const n=await r.task(s.message);s.stop(n||r.title)}},Ze=t=>{const i=t.output??process.stdout,r=Me(i),s=W.gray(o),n=t.spacing??1,a=3,l=t.retainLog===!0,c=D();i.write(`${s}
`),i.write(`${W.green(O)}  ${t.title}
`);for(let d=0;d<n;d++)i.write(`${s}
`);let u="",$="",m=!1;const h=d=>{if(u.length===0)return;const y=u.split(`
`).reduce((w,b)=>b===""?w+1:w+Math.ceil((b.length+a)/r),0)+1+(d?n+2:0);i.write(ie.lines(y))},g=(d,y)=>{T.message(d.split(`
`).map(W.dim),{output:i,secondarySymbol:s,symbol:s,spacing:y??n})},p=()=>{l===!0&&$.length>0?g(`${$}
${u}`):g(u)};return{message(d,y){if(h(!1),(y?.raw!==!0||!m)&&u!==""&&(u+=`
`),u+=d,m=y?.raw===!0,t.limit!==void 0){const w=u.split(`
`),b=w.length-t.limit;if(b>0){const M=w.splice(0,b);l&&($+=($===""?"":`
`)+M.join(`
`))}u=w.join(`
`)}c||g(u,0)},error(d,y){h(!0),T.error(d,{output:i,secondarySymbol:s,spacing:1}),y?.showLog!==!1&&p(),u=$=""},success(d,y){h(!0),T.success(d,{output:i,secondarySymbol:s,spacing:1}),y?.showLog===!0&&p(),u=$=""}}},et=t=>new Oe({validate:t.validate,placeholder:t.placeholder,defaultValue:t.defaultValue,initialValue:t.initialValue,output:t.output,signal:t.signal,input:t.input,render(){const i=`${e.gray(o)}
${E(this.state)}  ${t.message}
`,r=t.placeholder?e.inverse(t.placeholder[0])+e.dim(t.placeholder.slice(1)):e.inverse(e.hidden("_")),s=this.userInput?this.userInputWithCursor:r,n=this.value??"";switch(this.state){case"error":return`${i.trim()}
${e.yellow(o)}  ${s}
${e.yellow(f)}  ${e.yellow(this.error)}
`;case"submit":return`${i}${e.gray(o)}  ${e.dim(n)}`;case"cancel":return`${i}${e.gray(o)}  ${e.strikethrough(e.dim(n))}${n.trim()?`
${e.gray(o)}`:""}`;default:return`${i}${e.cyan(o)}  ${s}
${e.cyan(f)}
`}}}).prompt();export{o as S_BAR,f as S_BAR_END,U as S_BAR_H,oe as S_BAR_START,k as S_CHECKBOX_ACTIVE,B as S_CHECKBOX_INACTIVE,x as S_CHECKBOX_SELECTED,ce as S_CONNECT_LEFT,le as S_CORNER_BOTTOM_RIGHT,ue as S_CORNER_TOP_RIGHT,X as S_ERROR,H as S_INFO,ae as S_PASSWORD_MASK,P as S_RADIO_ACTIVE,L as S_RADIO_INACTIVE,ne as S_STEP_ACTIVE,G as S_STEP_CANCEL,F as S_STEP_ERROR,O as S_STEP_SUBMIT,K as S_SUCCESS,q as S_WARN,me as autocomplete,Ne as autocompleteMultiselect,De as cancel,ke as confirm,We as group,Be as groupMultiselect,Ge as intro,D as isCI,j as limitOptions,T as log,Ue as multiselect,Ke as note,Fe as outro,qe as password,Xe as path,Je as progress,ze as select,Ye as selectKey,J as spinner,R as stream,E as symbol,Ze as taskLog,Qe as tasks,et as text,N as unicode,v as unicodeOr};
//# sourceMappingURL=index.mjs.map
